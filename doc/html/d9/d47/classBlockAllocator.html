<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Helios++: BlockAllocator&lt; Class &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Helios++
   </div>
   <div id="projectbrief">Helios software for LiDAR simulations</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d9/d47/classBlockAllocator.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="../../d5/de3/classBlockAllocator-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BlockAllocator&lt; Class &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class to handle allocation of multiple instances of the same class by blocks. It is useful to reduce the number of new calls that, when too high, might cause a performance bottleneck.  
 <a href="../../d9/d47/classBlockAllocator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d4/d0b/BlockAllocator_8h_source.html">BlockAllocator.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for BlockAllocator&lt; Class &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dcc/classBlockAllocator__coll__graph.png" border="0" usemap="#aBlockAllocator_3_01Class_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="aBlockAllocator_3_01Class_01_4_coll__map" id="aBlockAllocator_3_01Class_01_4_coll__map">
<area shape="rect" title="Class to handle allocation of multiple instances of the same class by blocks. It is useful to reduce ..." alt="" coords="21,109,202,136"/>
<area shape="rect" title=" " alt="" coords="5,5,65,32"/>
<area shape="rect" title=" " alt="" coords="118,5,257,32"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:accbb9f8283a39178a2c5ae1ff1cea09c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d47/classBlockAllocator.html#accbb9f8283a39178a2c5ae1ff1cea09c">BlockAllocator</a> (size_t const <a class="el" href="../../d9/d47/classBlockAllocator.html#a3ae4b9146c24c25471f179adc4022e25">blockSize</a>=256)</td></tr>
<tr class="memdesc:accbb9f8283a39178a2c5ae1ff1cea09c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor for <a class="el" href="../../d9/d47/classBlockAllocator.html" title="Class to handle allocation of multiple instances of the same class by blocks. It is useful to reduce ...">BlockAllocator</a>.  <a href="../../d9/d47/classBlockAllocator.html#accbb9f8283a39178a2c5ae1ff1cea09c">More...</a><br /></td></tr>
<tr class="separator:accbb9f8283a39178a2c5ae1ff1cea09c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cb9433c9f2311bfd758c948693be761"><td class="memItemLeft" align="right" valign="top"><a id="a0cb9433c9f2311bfd758c948693be761" name="a0cb9433c9f2311bfd758c948693be761"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><b>~BlockAllocator</b> ()=default</td></tr>
<tr class="memdesc:a0cb9433c9f2311bfd758c948693be761"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor for <a class="el" href="../../d9/d47/classBlockAllocator.html" title="Class to handle allocation of multiple instances of the same class by blocks. It is useful to reduce ...">BlockAllocator</a>. <br /></td></tr>
<tr class="separator:a0cb9433c9f2311bfd758c948693be761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5e0268b05dd70ddcb8a6bb82c51d0e6"><td class="memItemLeft" align="right" valign="top">virtual Class *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d47/classBlockAllocator.html#ab5e0268b05dd70ddcb8a6bb82c51d0e6">nextNew</a> ()</td></tr>
<tr class="memdesc:ab5e0268b05dd70ddcb8a6bb82c51d0e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the next new allocated object.  <a href="../../d9/d47/classBlockAllocator.html#ab5e0268b05dd70ddcb8a6bb82c51d0e6">More...</a><br /></td></tr>
<tr class="separator:ab5e0268b05dd70ddcb8a6bb82c51d0e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ba2fd5d94bc0401bb13123e3195d70b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d47/classBlockAllocator.html#a4ba2fd5d94bc0401bb13123e3195d70b">setNextBlockSize</a> (std::function&lt; size_t(void)&gt; f)</td></tr>
<tr class="memdesc:a4ba2fd5d94bc0401bb13123e3195d70b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update next block size function.  <a href="../../d9/d47/classBlockAllocator.html#a4ba2fd5d94bc0401bb13123e3195d70b">More...</a><br /></td></tr>
<tr class="separator:a4ba2fd5d94bc0401bb13123e3195d70b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98f22357431cbf744bb7d6a1fa191d83"><td class="memItemLeft" align="right" valign="top">virtual vector&lt; Class * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d47/classBlockAllocator.html#a98f22357431cbf744bb7d6a1fa191d83">getBlocks</a> () const</td></tr>
<tr class="memdesc:a98f22357431cbf744bb7d6a1fa191d83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain a vector with pointers to start of allocated blocks.  <a href="../../d9/d47/classBlockAllocator.html#a98f22357431cbf744bb7d6a1fa191d83">More...</a><br /></td></tr>
<tr class="separator:a98f22357431cbf744bb7d6a1fa191d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ac6825155e2a521eaabb4e885f718dc2b"><td class="memItemLeft" align="right" valign="top">virtual Class *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d47/classBlockAllocator.html#ac6825155e2a521eaabb4e885f718dc2b">_new</a> ()</td></tr>
<tr class="memdesc:ac6825155e2a521eaabb4e885f718dc2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The allocation itself.  <a href="../../d9/d47/classBlockAllocator.html#ac6825155e2a521eaabb4e885f718dc2b">More...</a><br /></td></tr>
<tr class="separator:ac6825155e2a521eaabb4e885f718dc2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a3ae4b9146c24c25471f179adc4022e25"><td class="memItemLeft" align="right" valign="top"><a id="a3ae4b9146c24c25471f179adc4022e25" name="a3ae4b9146c24c25471f179adc4022e25"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>blockSize</b></td></tr>
<tr class="memdesc:a3ae4b9146c24c25471f179adc4022e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many elements per allocated block. <br /></td></tr>
<tr class="separator:a3ae4b9146c24c25471f179adc4022e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8681b6648f92211256329a9a95890a"><td class="memItemLeft" align="right" valign="top">vector&lt; Class * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d47/classBlockAllocator.html#a0f8681b6648f92211256329a9a95890a">blocks</a></td></tr>
<tr class="memdesc:a0f8681b6648f92211256329a9a95890a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector of allocated blocks. Each pointer in this vectors points to the starting element of a block of blockSize elements.  <a href="../../d9/d47/classBlockAllocator.html#a0f8681b6648f92211256329a9a95890a">More...</a><br /></td></tr>
<tr class="separator:a0f8681b6648f92211256329a9a95890a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2eb4f0ae60791f01063abf2313f71e0"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d47/classBlockAllocator.html#ab2eb4f0ae60791f01063abf2313f71e0">lastBlockElements</a></td></tr>
<tr class="memdesc:ab2eb4f0ae60791f01063abf2313f71e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of already used elements in last block.  <a href="../../d9/d47/classBlockAllocator.html#ab2eb4f0ae60791f01063abf2313f71e0">More...</a><br /></td></tr>
<tr class="separator:ab2eb4f0ae60791f01063abf2313f71e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2125bf13cde4808afb68e6a74decced8"><td class="memItemLeft" align="right" valign="top">Class *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d47/classBlockAllocator.html#a2125bf13cde4808afb68e6a74decced8">lastBlock</a></td></tr>
<tr class="memdesc:a2125bf13cde4808afb68e6a74decced8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to last block in blocks. It is useful to prevent multiple queries for the same block at blocks vector.  <a href="../../d9/d47/classBlockAllocator.html#a2125bf13cde4808afb68e6a74decced8">More...</a><br /></td></tr>
<tr class="separator:a2125bf13cde4808afb68e6a74decced8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af012395cbe281095b71a58126fd12fd1"><td class="memItemLeft" align="right" valign="top"><a id="af012395cbe281095b71a58126fd12fd1" name="af012395cbe281095b71a58126fd12fd1"></a>
std::function&lt; size_t(void)&gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_nextBlockSize</b></td></tr>
<tr class="memdesc:af012395cbe281095b71a58126fd12fd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the next block size. By default it preserves blockSize but it can be overridden to provide a dynamic behavior for block size. <br /></td></tr>
<tr class="separator:af012395cbe281095b71a58126fd12fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aa60a2eef5079c635eb67592a037df3f8"><td class="memTemplParams" colspan="2">template&lt;class Archive &gt; </td></tr>
<tr class="memitem:aa60a2eef5079c635eb67592a037df3f8"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d9/d47/classBlockAllocator.html#aa60a2eef5079c635eb67592a037df3f8">serialize</a> (Archive &amp;ar, const unsigned int version)</td></tr>
<tr class="memdesc:aa60a2eef5079c635eb67592a037df3f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serialize a <a class="el" href="../../d9/d47/classBlockAllocator.html" title="Class to handle allocation of multiple instances of the same class by blocks. It is useful to reduce ...">BlockAllocator</a> to a stream of byes.  <a href="../../d9/d47/classBlockAllocator.html#aa60a2eef5079c635eb67592a037df3f8">More...</a><br /></td></tr>
<tr class="separator:aa60a2eef5079c635eb67592a037df3f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ac98d07dd8f7b70e16ccb9a01abf56b9c"><td class="memItemLeft" align="right" valign="top"><a id="ac98d07dd8f7b70e16ccb9a01abf56b9c" name="ac98d07dd8f7b70e16ccb9a01abf56b9c"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>boost::serialization::access</b></td></tr>
<tr class="separator:ac98d07dd8f7b70e16ccb9a01abf56b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class Class&gt;<br />
class BlockAllocator&lt; Class &gt;</div><p >Class to handle allocation of multiple instances of the same class by blocks. It is useful to reduce the number of new calls that, when too high, might cause a performance bottleneck. </p>
<dl class="section author"><dt>Author</dt><dd>Alberto M. Esmoris Pena </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Class</td><td>Type of class to be allocated </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="accbb9f8283a39178a2c5ae1ff1cea09c" name="accbb9f8283a39178a2c5ae1ff1cea09c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accbb9f8283a39178a2c5ae1ff1cea09c">&#9670;&nbsp;</a></span>BlockAllocator()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Class &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d47/classBlockAllocator.html">BlockAllocator</a>&lt; Class &gt;<a class="el" href="../../d9/d47/classBlockAllocator.html">::BlockAllocator</a> </td>
          <td>(</td>
          <td class="paramtype">size_t const&#160;</td>
          <td class="paramname"><em>blockSize</em> = <code>256</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor for <a class="el" href="../../d9/d47/classBlockAllocator.html" title="Class to handle allocation of multiple instances of the same class by blocks. It is useful to reduce ...">BlockAllocator</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blockSize</td><td>The block size to be used for allocations </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac6825155e2a521eaabb4e885f718dc2b" name="ac6825155e2a521eaabb4e885f718dc2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6825155e2a521eaabb4e885f718dc2b">&#9670;&nbsp;</a></span>_new()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Class &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Class * <a class="el" href="../../d9/d47/classBlockAllocator.html">BlockAllocator</a>&lt; Class &gt;::_new </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The allocation itself. </p>
<dl class="section return"><dt>Returns</dt><dd>Allocated block </dd></dl>

</div>
</div>
<a id="a98f22357431cbf744bb7d6a1fa191d83" name="a98f22357431cbf744bb7d6a1fa191d83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98f22357431cbf744bb7d6a1fa191d83">&#9670;&nbsp;</a></span>getBlocks()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Class &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual vector&lt; Class * &gt; <a class="el" href="../../d9/d47/classBlockAllocator.html">BlockAllocator</a>&lt; Class &gt;::getBlocks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain a vector with pointers to start of allocated blocks. </p>
<dl class="section return"><dt>Returns</dt><dd>Vector with pointers to start of allocated blocks </dd></dl>

</div>
</div>
<a id="ab5e0268b05dd70ddcb8a6bb82c51d0e6" name="ab5e0268b05dd70ddcb8a6bb82c51d0e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5e0268b05dd70ddcb8a6bb82c51d0e6">&#9670;&nbsp;</a></span>nextNew()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Class &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Class * <a class="el" href="../../d9/d47/classBlockAllocator.html">BlockAllocator</a>&lt; Class &gt;::nextNew </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain the next new allocated object. </p>
<p >If no block has been allocated, it handles the allocation of the first block. If last allocated block is not full, it return the next not yet used element in the block. If last allocated block is full, it allocates a new block</p>
<dl class="section return"><dt>Returns</dt><dd>Next new allocated object </dd></dl>

</div>
</div>
<a id="aa60a2eef5079c635eb67592a037df3f8" name="aa60a2eef5079c635eb67592a037df3f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa60a2eef5079c635eb67592a037df3f8">&#9670;&nbsp;</a></span>serialize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Class &gt; </div>
<div class="memtemplate">
template&lt;class Archive &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d9/d47/classBlockAllocator.html">BlockAllocator</a>&lt; Class &gt;::serialize </td>
          <td>(</td>
          <td class="paramtype">Archive &amp;&#160;</td>
          <td class="paramname"><em>ar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Serialize a <a class="el" href="../../d9/d47/classBlockAllocator.html" title="Class to handle allocation of multiple instances of the same class by blocks. It is useful to reduce ...">BlockAllocator</a> to a stream of byes. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Archive</td><td>Type of rendering </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ar</td><td>Specific rendering for the stream of bytes </td></tr>
    <tr><td class="paramname">version</td><td>Version number for the <a class="el" href="../../d9/d47/classBlockAllocator.html" title="Class to handle allocation of multiple instances of the same class by blocks. It is useful to reduce ...">BlockAllocator</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4ba2fd5d94bc0401bb13123e3195d70b" name="a4ba2fd5d94bc0401bb13123e3195d70b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ba2fd5d94bc0401bb13123e3195d70b">&#9670;&nbsp;</a></span>setNextBlockSize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Class &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="../../d9/d47/classBlockAllocator.html">BlockAllocator</a>&lt; Class &gt;::setNextBlockSize </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; size_t(void)&gt;&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update next block size function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>New next block size function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d9/d47/classBlockAllocator.html#af012395cbe281095b71a58126fd12fd1" title="Compute the next block size. By default it preserves blockSize but it can be overridden to provide a ...">BlockAllocator::_nextBlockSize</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a0f8681b6648f92211256329a9a95890a" name="a0f8681b6648f92211256329a9a95890a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f8681b6648f92211256329a9a95890a">&#9670;&nbsp;</a></span>blocks</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Class &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;Class *&gt; <a class="el" href="../../d9/d47/classBlockAllocator.html">BlockAllocator</a>&lt; Class &gt;::blocks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Vector of allocated blocks. Each pointer in this vectors points to the starting element of a block of blockSize elements. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d9/d47/classBlockAllocator.html#a2125bf13cde4808afb68e6a74decced8" title="Pointer to last block in blocks. It is useful to prevent multiple queries for the same block at block...">BlockAllocator::lastBlock</a> </dd></dl>

</div>
</div>
<a id="a2125bf13cde4808afb68e6a74decced8" name="a2125bf13cde4808afb68e6a74decced8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2125bf13cde4808afb68e6a74decced8">&#9670;&nbsp;</a></span>lastBlock</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Class &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Class* <a class="el" href="../../d9/d47/classBlockAllocator.html">BlockAllocator</a>&lt; Class &gt;::lastBlock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to last block in blocks. It is useful to prevent multiple queries for the same block at blocks vector. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d9/d47/classBlockAllocator.html#a0f8681b6648f92211256329a9a95890a" title="Vector of allocated blocks. Each pointer in this vectors points to the starting element of a block of...">BlockAllocator::blocks</a> </dd>
<dd>
<a class="el" href="../../d9/d47/classBlockAllocator.html#ab2eb4f0ae60791f01063abf2313f71e0" title="The number of already used elements in last block.">BlockAllocator::lastBlockElements</a> </dd></dl>

</div>
</div>
<a id="ab2eb4f0ae60791f01063abf2313f71e0" name="ab2eb4f0ae60791f01063abf2313f71e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2eb4f0ae60791f01063abf2313f71e0">&#9670;&nbsp;</a></span>lastBlockElements</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Class &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="../../d9/d47/classBlockAllocator.html">BlockAllocator</a>&lt; Class &gt;::lastBlockElements</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of already used elements in last block. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d9/d47/classBlockAllocator.html#a2125bf13cde4808afb68e6a74decced8" title="Pointer to last block in blocks. It is useful to prevent multiple queries for the same block at block...">BlockAllocator::lastBlock</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/util/<a class="el" href="../../d4/d0b/BlockAllocator_8h_source.html">BlockAllocator.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d9/d47/classBlockAllocator.html">BlockAllocator</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
